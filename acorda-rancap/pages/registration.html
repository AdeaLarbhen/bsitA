<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C-Merged Registration</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">
    <link rel="stylesheet" href="../styles/style4.css"/>
  
  </head>
  <body>
    
    <video id="video" poster="../assets/img.jpg" autoplay muted loop>
        <source src="../assets/videoplayback.mp4" type="video/mp4">
       </video>

    
<div class="container position-absolute top-50 start-50 translate-middle">
    <div class="row">
        <header>C - Merged Registration</header>
           <form action="#" id="register-form">
               <div class="form first">
                   <div class="details personal">
                       <span class="title">Personal Details</span>
   
                       <div class="fields">
                           <div class="input-field">
                               <label>Full Name</label>
                               <input type="text" id="flname" placeholder="Enter your name" required />
                           </div>
   
                           <div class="input-field">
                               <label>Date of Birth</label>
                               <input type="date" id="birth" placeholder="Enter birth date" required />
                           </div>
   
                           <div class="input-field">
                               <label>Email</label>
                               <input type="text" id="email" placeholder="Enter your email" required />
                           </div>
   
                           <div class="input-field">
                               <label>Mobile Number</label>
                               <input type="number" id="mobile_num" placeholder="Enter mobile number" required />
                           </div>
   
                           <div class="input-field">
                               <label>Gender</label>
                               <select required>
                                   <option disabled selected>Gender :</option>
                                   <option>Male</option>
                                   <option>Female</option>
                                   <option>Others</option>
                               </select>
                           </div>

                       </div>
                   </div>
                   <div class="details address">
                    <span class="title">Address Details</span>

                    <div class="fields">
                        <div class="input-field">
                            <label>Street No.</label>
                            <input type="text" id="street" placeholder="Enter Street No." required />
                        </div>

                        <div class="input-field">
                         <label>Municipality</label>
                         <input type="text" id="municipality" placeholder="Enter Municipality" required />
                     </div>

                     <div class="input-field">
                         <label>Province</label>
                         <input type="text" id="province" placeholder="Enter Province" required />
                     </div>

                    </div>
                </div>
                        
                        <button class="sumbit">
                            <span class="btnText" type="submit">Submit</span>
                            <i class="uil uil-navigator"></i>
                        </button>
                    </div>

                </form>
            </div>
        </div>   
      
     
      
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js" integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.min.js" integrity="sha384-kjU+l4N0Yf4ZOJErLsIcvOU2qSb74wXpOhqTvwVx3OElZRweTnQ6d31fXEoRD1Jy" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/2.0.2/anime.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="main.js"></script>
    
    <script src="https://unpkg.com/@supabase/supabase-js"></script>
    
    <script>
     const { createClient } = supabase
     supabase = createClient("https://ddxshjmkblhpqyglzqtr.supabase.co", "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRkeHNoam1rYmxocHF5Z2x6cXRyIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NTY3MzE5NDgsImV4cCI6MTk3MjMwNzk0OH0.h_ZMXboAgEOLf5_V9Fk7jmfwZDVPhJCzmLTayDiR-60")
        
        const form = document.querySelector('#register-form')
      form.addEventListener('submit', async (event) => {
          event.preventDefault()

          const formInputs = form.querySelectorAll('input, select, textarea')

          let submision = {}

          formInputs.forEach(element => {
            const { value, name } = element
            if (value) {
                submision[name] = value
            }
          })

          const { error, data } = await supabase.from('register').insert([submision])

          if (error) {
              alert('There was an error please try again')
          } else {
              alert('Thanks for signing-up.')
          }

          formInputs.forEach(element => element.value = '')

      })
    </script>
   
  </body>
</html>
